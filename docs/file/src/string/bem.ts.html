<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../../../">
  <title data-ice="title">src/string/bem.ts | zan-utils</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  <script src="script/manual.js"></script>
</head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
</header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  <li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#money">money</a><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-formatLargeNumber">formatLargeNumber</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-tozhCN">tozhCN</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#string">string</a><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-bem">bem</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#validate">validate</a><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-chinaMobile">chinaMobile</a></span></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><h1 data-ice="title">src/string/bem.ts</h1>
<pre class="source-code line-number raw-source-code"><code class="prettyprint linenums" data-ice="content">function toClass(classes, prefix = &apos;&apos;) {
  if (typeof classes === &apos;string&apos;) {
    return (prefix + classes).trim();
  }

  const arrClasses = Array.isArray(classes)
    ? classes
    : Object.keys(classes).filter(className =&gt; classes[className]);

  return arrClasses.reduce(
    (prev, currClass) =&gt; `${prev ? `${prev} ` : &apos;&apos;}${prefix + currClass}`,
    &apos;&apos;,
  );
}
/**
 * @memberof module:string
 * @desc
 * ##### &#x5FEB;&#x901F;&#x751F;&#x6210;&#x7B26;&#x5408;&#x6807;&#x51C6; bem &#x89C4;&#x8303;&#x7684; classnames
 *
 * 1&#x3001;&#x521D;&#x59CB;&#x5316; bem &#x751F;&#x6210;&#x5668;
 *
 * bem({ block:string, prefix?: string, elementPrefix?: string,  modifierPrefix?: string }): (element, modifier, utils) =&gt; string
 *
 * ```
 * // &#x751F;&#x6210;&#x5668;&#x8FD4;&#x56DE;&#x5DE5;&#x5177;&#x51FD;&#x6570;
 * const cx = bem({ block: &apos;prepaid&apos; });
 *
 * const zentCx = bem({ block: &apos;loading&apos;, prefix: &apos;zent-&apos; });
 *
 * const quirkCx = bem({ block: &apos;quirk&apos;, elementPrefix: &apos;~~&apos;, modifierPrefix: &apos;^^&apos; });
 *
 * // &#x8F93;&#x5165; element
 * cx(&apos;main&apos;) // &apos;prepaid__main&apos;
 *
 * zentCx(&apos;root&apos;) // &apos;zent-loading__root&apos;
 *
 * quirkCx(&apos;root&apos;) // &apos;quirk~~root&apos;
 *
 * // &#x8F93;&#x5165; element + modifer
 * cx(&apos;main&apos;, &apos;active&apos;) // &apos;prepaid__main prepaid__main--active&apos;
 *
 * zentCx(&apos;root&apos;, &apos;active&apos;) // &apos;zent-loading__root zent-loading__root--active&apos;
 *
 * quirkCx(&apos;root&apos;, &apos;active&apos;) // &apos;quirk~~root quirk~~root^^active&apos;
 *
 * // &#x8F93;&#x5165; element + modifer + utils
 * cx(&apos;main&apos;, &apos;active&apos;, &apos;force-hide&apos;) // &apos;prepaid__main prepaid__main--active force-hide&apos;
 *
 * zentCx(&apos;root&apos;, &apos;active&apos; &apos;fixed&apos;) // &apos;zent-loading__root zent-loading__root--active fixed&apos;
 *
 * quirkCx(&apos;root&apos;, &apos;active&apos;, &apos;float-right&apos;) // &apos;quirk~~root quirk~~root^^active float-right&apos;
 * ```
 *
 * 2&#x3001;&#x751F;&#x6210;&#x7684; bem &#x5DE5;&#x5177;&#x51FD;&#x6570;&#x652F;&#x6301;&#x4E09;&#x79CD;&#x53C2;&#x6570;&#x683C;&#x5F0F;
 *
 * element, modifier, utils &#x90FD;&#x652F;&#x6301;&#x4E00;&#x4E0B;&#x4F20;&#x53C2;&#x65B9;&#x5F0F;, &#x4EE5; modifier &#x4E3E;&#x4F8B;
 *
 * ```
 * // &#x8F93;&#x5165;&#x5B57;&#x7B26;&#x4E32;(&#x5047;&#x503C;&#x7B49;&#x540C;&#x4E8E;&#x7A7A;&#x5B57;&#x7B26;&#x4E32;)
 * cx(null, &apos;active&apos;) // &apos;prepaid prepaid--active&apos;
 *
 * // &#x8F93;&#x5165;&#x6570;&#x7EC4;, &#x5E73;&#x7EA7;&#x5C55;&#x5F00;
 * cx(&apos;main&apos;, [&apos;active&apos;, &apos;show&apos;]) // &apos;prepaid__main prepaid__main--active prepaid__main--show&apos;
 *
 * // &#x8F93;&#x5165;&#x5BF9;&#x8C61;, &#x53D6;&#x7B2C;&#x4E00;&#x7EA7; key &#x5E76;&#x6821;&#x9A8C; Boolean(object[key]) &#x51B3;&#x5B9A;&#x662F;&#x5426;&#x663E;&#x793A;
 * cx(&apos;main&apos;, { active: true, show: false, disabled: { relative: true } }, &apos;auto-width&apos;)
 * // &apos;prepaid__main prepaid__main--active prepaid__main--disabled auto-width&apos;
 * ```
 */

function bem({ prefix = &apos;&apos;, block, elementPrefix = &apos;__&apos;, modifierPrefix = &apos;--&apos; }: {
  prefix?: string, 
  block:string, 
  elementPrefix?: string,  
  modifierPrefix?: string
 }): (element?: string, modifier?: string, utils?: string) =&gt; string {
  return function (element = &apos;&apos;, modifier = &apos;&apos;, utils = &apos;&apos;) {
    const blockClass = `${prefix}${block}`;
    const elementClass = element
      ? toClass(element, blockClass + elementPrefix)
      : &apos;&apos;;
    const blockModifier =
      modifier &amp;&amp; !elementClass
        ? ` ${toClass(modifier, blockClass + modifierPrefix)}`
        : &apos;&apos;;
    const elementModifier =
      modifier &amp;&amp; elementClass
        ? ` ${toClass(modifier, elementClass + modifierPrefix)}`
        : &apos;&apos;;
    const utilsClass = utils ? ` ${toClass(utils)}` : &apos;&apos;;
    const bemClasses = element
      ? elementClass + elementModifier
      : blockClass + blockModifier;
    return (bemClasses + utilsClass).trim();
  };
}

export default bem;
</code></pre>

</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(1.1.0)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
